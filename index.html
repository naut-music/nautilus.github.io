<html>

<head>
    <meta charset="utf-8">
    <title>Waveform Playlist Basic HTML</title>
    <link rel="stylesheet" href="https://unpkg.com/waveform-playlist@4.2.2/styles/playlist.css">
    <script src="https://kit.fontawesome.com/ef69927139.js" crossorigin="anonymous"></script>
</head>

<body>
    <button type="button" id="btn-play" title="Play">
        <i class="fas fa-play"></i>
    </button>
    <button type="button" id="btn-pause" title="Pause">
        <i class="fas fa-pause"></i>
    </button>
    <div id="playlist"></div>
    <script src="https://unpkg.com/waveform-playlist@4.2.2/build/waveform-playlist.var.min.js"></script>
    <script>

        function getAllFilesFromFolder(){
          var walk    = require('walk');
          var files   = [];

          // Walker options
          var walker  = walk.walk("/Users/alexw/Music", { followLinks: false });

          walker.on('file', function(root, stat, next) {
              // Add this file to the list of files
              files.push(root + '/' + stat.name);
              next();
          });

          walker.on('end', function() {
              console.log(files);
          });
        }

        var files = getAllFilesFromFolder();

        var playlist = WaveformPlaylist.init({
            container: document.getElementById("playlist"),
            samplesPerPixel: 128,
            zoomLevels: [128, 256, 512],
            controls: {
                show: true
            }
        });

        playlist.load([
            {
                src: "hello.mp3"
            }
        ]).then(function () {
            var ee = playlist.getEventEmitter();
            document.getElementById("btn-play").addEventListener("click", function () {
                ee.emit("play");
            });

            document.getElementById("btn-pause").addEventListener("click", function () {
                ee.emit("pause");
            });
        });
    </script>
</body>

</html>
